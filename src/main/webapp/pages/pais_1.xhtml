<!DOCTYPE html>
<ui:composition   template="/WEB-INF/layout/template.xhtml"
                  xmlns="http://www.w3.org/1999/xhtml"
                  xmlns:h="http://xmlns.jcp.org/jsf/html"
                  xmlns:f="http://xmlns.jcp.org/jsf/core"
                  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                  xmlns:p="http://primefaces.org/ui"
                  xmlns:jmoordbjsf="http://jmoordbjsf.com/taglib">



    <ui:define name="titulo">#{msg['title.pagina']} - #{msg['application.title']}</ui:define>

    <ui:define name="contenido">
        <h:outputStylesheet library="css" name="extras.css"/>
        <h:outputStylesheet name="primeicons/primeicons.css" library="primefaces" />

        <p:messages  closable="true" >
            <p:autoUpdate />
        </p:messages>


        <!-- START CONTENT -->
        <section id="content">
            <div class="container">

                <!--**********************************************************************
                                              Despues del Tema  
                *************************************************************************-->

                <h:form id="form" class="contact-form" 
                        style="margin-left: 0.9em; margin-right: 0.9em; padding-top: 2em;" 
                        >
                    <jmoordbjsf:ajaxstatus  />

                    <p:growl id="growl" />

                    <h:panelGroup id="content">

                        <div class="row">
                             <p:column>
                                <p:commandButton title="#{app['button.new']}" 
                                                 process="@this,:form:panelGroupNew"                                                 
                                             icon="fa fa-file-o" 

                                                 action="#{paisPageController.prepareNew()}"
                                                 oncomplete="PF('dialogNew').show();" update=":form:panelGroupNew"/>       
                            </p:column>
                        </div>


                        <h:panelGroup >
                            <br />

                            <div class="row">
                                <div class="input-field">
                                    <p:inputText id="inputidpais" value="#{paisPageController.pais.idpais}"/>
                                    <p:outputLabel for="@previous" value="#{msg['field.idpais']}"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="input-field">
                                    <p:inputText id="inputpais" value="#{paisPageController.pais.pais}"/>
                                    <p:outputLabel for="@previous" value="#{msg['field.pais']}"/>
                                </div>
                            </div>


                        </h:panelGroup>


                        <div class="row">   

                            <p:column>
                                <p:commandButton value="#{app['button.save']}"

                                                 icon="pi pi-save"   
                                                 action="#{paisPageController.save()}"
                                                 update=":form:datatable, :form:growl"/>       
                            </p:column>

                        </div>


                        <div>
                            <p:dataTable var="item" value="#{paisPageController.listPais}"
                                         id="datatable"

                                         >
                                <f:facet name="header">

                                    <p:outputLabel value="#{msg['form.paises']}"/>

                                </f:facet>

                                <p:column headerText="#{msg['field.idpais']}" style="width:75px">
                                    <p:outputLabel value="#{item.idpais}" />
                                </p:column>
                                <p:column headerText="#{msg['field.pais']}" style="width:75px">
                                    <p:outputLabel value="#{item.pais}" />
                                </p:column>
                            </p:dataTable>
                        </div>

                    </h:panelGroup>

                    
                    
                       <h:panelGroup id="panelGroupNew">
                        <p:dialog header="Pais" widgetVar="dialogNew" modal="true"                   
                                  id="dialogonuevo"  dynamic="true"
                                  >
                            <h:form id="formadialog">
                                <div class="row">
                                    <p:outputLabel  value="#{msg['field.idpais']}" />
                                    <p:inputText value="#{paisPageController.pais.idpais}" id="idpais"  label="#{msg['field.pais']}" />

                                </div>
                                <div class="row">
                                    <p:outputLabel  value="#{msg['field.pais']}" />
                                    <p:inputText value="#{paisPageController.pais.pais}" id="pais"  label="#{msg['field.pais']}" />

                                </div>


                                <div class="row">
                                    <p:commandButton rendered="true"                          
                                                     value="#{app['button.save']}"
                                                     icon="fa fa-floppy-o"
                                                     title="#{app['button.save']}"
                                                     action="#{paisPageController.save()}"
                                                     process=":form:panelGroupNew"
                                                     oncomplete="PF('dialogNew').hide()" 
                                                     update=":form:datatable, :form:growl"> 
                                                       

                                    </p:commandButton>



                                </div>


                            </h:form>
                        </p:dialog>   
                    </h:panelGroup>

                </h:form>




            </div>
            <!--end container-->

        </section>
        <!-- END CONTENT -->
        <!-- ================================================================================================
                                                      Scripts
                      ===================================================================================================== -->
        <jmoordbjsf:materialized-js />



    </ui:define>

</ui:composition>